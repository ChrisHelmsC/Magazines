@model MagazineSalesProject.Models.CustomerInvoice

@{
    ViewBag.Title = "CustomerInfo";
}

<h2>Customer Information</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.cust.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.cust.FirstName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.cust.LastName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.cust.Address)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.cust.City)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.cust.SubscriptionsBought)
        </th>
    </tr>

@{
    var customer = Model.cust;
    <tr>
        <td>
            @Html.DisplayFor(model => customer.Email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => customer.FirstName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => customer.LastName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => customer.Address)
        </td>
        <td>
            @Html.DisplayFor(modelItem => customer.City)
        </td>
        <td>
            @Html.DisplayFor(modelItem => customer.SubscriptionsBought)
        </td>
    </tr>
}
</table>

<h3  style="margin-top:10%;">Invoice History</h3>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.invoices.First().InvoiceNumber)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.invoices.First().OrderDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.invoices.First().Total)
        </th>
    </tr>

    @foreach (var item in Model.invoices)
    {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.InvoiceNumber)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.OrderDate)
        </td>
        <td>
           @Html.DisplayFor(modelItem => item.Total)
        </td>
    </tr>
    }
</table>

@Html.ActionLink("Sell Customer Magazines", "Sell", "Customers", new MagazineSalesProject.Models.EmailSeller{ Email = Model.cust.Email.Trim(),
SellerID = 1, magList = new List<MagazineSalesProject.Models.Magazine>(), total = 0},null)